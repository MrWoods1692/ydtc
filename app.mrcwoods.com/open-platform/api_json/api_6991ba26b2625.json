{
    "name": "图片色彩提取",
    "brief": "算法识别返回各类编码百分比",
    "request_desc": "",
    "api_url": "https://api.mrcwoods.com/v1/tpsctq/",
    "request_method": "GET",
    "return_format": "JSON",
    "request_example": "https://api.mrcwoods.com/v1/tpsctq/?url=图片链接",
    "request_params": [
        {
            "name": "url",
            "type": "url",
            "required": "是",
            "desc": "需要识别色彩的图片链接"
        },
        {
            "name": "limit",
            "type": "number",
            "required": "否",
            "desc": "色彩获取数量，支持1-30，不填写默认返回前5个(按照占用百分比排列)"
        }
    ],
    "return_params": [
        {
            "field": "color_name_cn",
            "type": "string",
            "desc": "颜色中文"
        },
        {
            "field": "color_name_en",
            "type": "string",
            "desc": "颜色英文"
        },
        {
            "field": "rgb",
            "type": "string",
            "desc": "RGB图片编码"
        },
        {
            "field": "rgba",
            "type": "string",
            "desc": "RGBA图片编码"
        },
        {
            "field": "hex",
            "type": "string",
            "desc": "十六进制图片编码"
        },
        {
            "field": "hsl",
            "type": "string",
            "desc": "HSI图片编码"
        },
        {
            "field": "hsla",
            "type": "string",
            "desc": "HSIA图片编码"
        },
        {
            "field": "percentage",
            "type": "string",
            "desc": "颜色占比"
        }
    ],
    "status_code": [
        {
            "code": "200",
            "desc": "请求成功"
        },
        {
            "code": "403",
            "desc": "请求失败"
        },
        {
            "code": "404",
            "desc": "文件缺失"
        },
        {
            "code": "500",
            "desc": "请求超时"
        }
    ],
    "return_example": "{\r\n    \"success\": true,\r\n    \"info\": {\r\n        \"original_size\": \"4441x6213\",\r\n        \"processed_size\": \"143x200\",\r\n        \"colors_found\": 5\r\n    },\r\n    \"colors\": [\r\n        {\r\n            \"color_name_cn\": \"银灰\",\r\n            \"color_name_en\": \"Silver Gray\",\r\n            \"rgb\": \"rgb(171, 175, 183)\",\r\n            \"rgba\": \"rgba(171, 175, 183, 1)\",\r\n            \"hex\": \"#ABAFB7\",\r\n            \"hsl\": \"hsl(220, 8%, 69%)\",\r\n            \"hsla\": \"hsla(220, 8%, 69%, 1)\",\r\n            \"cmyk\": \"cmyk(7%, 4%, 0%, 28%)\",\r\n            \"percentage\": \"7.26%\"\r\n        },\r\n        {\r\n            \"color_name_cn\": \"香槟色\",\r\n            \"color_name_en\": \"Champagne\",\r\n            \"rgb\": \"rgb(255, 237, 221)\",\r\n            \"rgba\": \"rgba(255, 237, 221, 1)\",\r\n            \"hex\": \"#FFEDDD\",\r\n            \"hsl\": \"hsl(28, 100%, 93%)\",\r\n            \"hsla\": \"hsla(28, 100%, 93%, 1)\",\r\n            \"cmyk\": \"cmyk(0%, 7%, 13%, 0%)\",\r\n            \"percentage\": \"4.34%\"\r\n        },\r\n        {\r\n            \"color_name_cn\": \"天蓝\",\r\n            \"color_name_en\": \"Sky Blue\",\r\n            \"rgb\": \"rgb(122, 184, 248)\",\r\n            \"rgba\": \"rgba(122, 184, 248, 1)\",\r\n            \"hex\": \"#7AB8F8\",\r\n            \"hsl\": \"hsl(210, 90%, 73%)\",\r\n            \"hsla\": \"hsla(210, 90%, 73%, 1)\",\r\n            \"cmyk\": \"cmyk(51%, 26%, 0%, 3%)\",\r\n            \"percentage\": \"3.37%\"\r\n        },\r\n        {\r\n            \"color_name_cn\": \"矢车菊蓝\",\r\n            \"color_name_en\": \"Cornflower Blue\",\r\n            \"rgb\": \"rgb(80, 156, 233)\",\r\n            \"rgba\": \"rgba(80, 156, 233, 1)\",\r\n            \"hex\": \"#509CE9\",\r\n            \"hsl\": \"hsl(210, 78%, 61%)\",\r\n            \"hsla\": \"hsla(210, 78%, 61%, 1)\",\r\n            \"cmyk\": \"cmyk(66%, 33%, 0%, 9%)\",\r\n            \"percentage\": \"3.25%\"\r\n        },\r\n        {\r\n            \"color_name_cn\": \"桃粉\",\r\n            \"color_name_en\": \"Peach Puff\",\r\n            \"rgb\": \"rgb(249, 218, 205)\",\r\n            \"rgba\": \"rgba(249, 218, 205, 1)\",\r\n            \"hex\": \"#F9DACD\",\r\n            \"hsl\": \"hsl(18, 79%, 89%)\",\r\n            \"hsla\": \"hsla(18, 79%, 89%, 1)\",\r\n            \"cmyk\": \"cmyk(0%, 12%, 18%, 2%)\",\r\n            \"percentage\": \"2.64%\"\r\n        }\r\n    ]\r\n}",
    "sdk": {
        "PHP": "&lt;?php\r\n\r\n/**\r\n * 图片色彩提取API\r\n * 算法识别返回各类编码百分比\r\n */\r\n\r\n// 必填参数\r\n$url = &apos;https://example.com/image.jpg&apos;; // 需要识别色彩的图片链接\r\n\r\n// 可选参数\r\n// $limit = 5; // 色彩获取数量，支持1-30，不填写默认返回前5个(按照占用百分比排列)\r\n\r\n// 请求URL\r\n$requestUrl = &apos;https://api.mrcwoods.com/v1/tpsctq/&apos;;\r\n\r\n// 初始化cURL会话\r\n$ch = curl_init();\r\n\r\n// 设置cURL选项\r\ncurl_setopt($ch, CURLOPT_URL, $requestUrl);\r\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\r\ncurl_setopt($ch, CURLOPT_POST, true);\r\n\r\n// 构建请求数据\r\n$data = [\r\n    &apos;url&apos; =&gt; $url\r\n];\r\n\r\n// 如果设置了可选参数，则添加到请求数据中\r\nif (isset($limit)) {\r\n    $data[&apos;limit&apos;] = $limit;\r\n}\r\n\r\ncurl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query($data));\r\n\r\n// 执行cURL请求\r\n$response = curl_exec($ch);\r\n\r\n// 检查cURL请求是否成功\r\nif ($response === false) {\r\n    $errorMessage = curl_error($ch);\r\n    curl_close($ch);\r\n    die(&quot;cURL请求失败: $errorMessage&quot;);\r\n}\r\n\r\n// 获取HTTP状态码\r\n$httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);\r\n\r\n// 检查HTTP状态码是否为200\r\nif ($httpCode !== 200) {\r\n    curl_close($ch);\r\n    die(&quot;请求失败，HTTP状态码: $httpCode&quot;);\r\n}\r\n\r\n// 关闭cURL会话\r\ncurl_close($ch);\r\n\r\n// 解析JSON响应\r\ntry {\r\n    $responseData = json_decode($response, true, 512, JSON_THROW_ON_ERROR);\r\n} catch (JsonException $e) {\r\n    die(&quot;JSON解析失败: &quot; . $e-&gt;getMessage());\r\n}\r\n\r\n// 输出响应数据\r\nprint_r($responseData);\r\n\r\n?&gt;"
    }
}