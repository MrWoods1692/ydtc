{
    "name": "OCR文字识别",
    "brief": "OCR文字识别API\r\n精准识别图片链接中的文字",
    "request_desc": "",
    "api_url": "https://api.mrcwoods.com/v1/ocrwzsb/",
    "request_method": "GET",
    "return_format": "JSON",
    "request_example": "https://api.mrcwoods.com/v1/ocrwzsb/?url=图片链接&target=检测语言",
    "request_params": [
        {
            "name": "url",
            "type": "url",
            "required": "是",
            "desc": "需要识别的图片链接或base64图片编码，不能超过1MB大小(PDF、GIF、PNG、JPG、TIF、BMP)"
        },
        {
            "name": "target",
            "type": "string",
            "required": "否",
            "desc": "需要检测的语言，传入target=list返回支持的所有语言列表，不填写默认中文简体(chs)"
        },
        {
            "name": "type",
            "type": "string",
            "required": "否",
            "desc": "返回的内容格式，支持json和text，默认返回json"
        }
    ],
    "return_params": [
        {
            "field": "ParsedText",
            "type": "string",
            "desc": "文本识别内容"
        }
    ],
    "status_code": [
        {
            "code": "200",
            "desc": "请求成功"
        },
        {
            "code": "500",
            "desc": "请求超时"
        }
    ],
    "return_example": "{\r\n  \"status\": \"success\",\r\n  \"data\": {\r\n    \"ParsedResults\": [\r\n      {\r\n        \"TextOrientation\": \"0\",\r\n        \"FileParseExitCode\": 1,\r\n        \"ParsedText\": \"\",\r\n        \"ErrorMessage\": \"\",\r\n        \"ErrorDetails\": \"\"\r\n      }\r\n    ],\r\n    \"OCRExitCode\": 1,\r\n    \"IsErroredOnProcessing\": false,\r\n    \"ProcessingTimeInMilliseconds\": \"2421\",\r\n    \"SearchablePDFURL\": \"Searchable PDF not generated as it was not requested.\"\r\n  }\r\n}",
    "sdk": {
        "JavaScript": "/**\r\n * OCR文字识别API调用函数\r\n * @param {string} imageUrl - 需要识别的图片链接或base64图片编码，不能超过1MB大小(PDF、GIF、PNG、JPG、TIF、BMP)\r\n */\r\nfunction callOCRAPI(imageUrl) {\r\n    // 必填参数\r\n    const url = imageUrl;\r\n\r\n    // 可选参数，可根据需要取消注释并设置值\r\n    // const target = &quot;chs&quot;; // 需要检测的语言，传入target=list返回支持的所有语言列表，不填写默认中文简体(chs)\r\n    // const type = &quot;json&quot;; // 返回的内容格式，支持json和text，默认返回json\r\n\r\n    // 检查必填参数是否为空\r\n    if (!url) {\r\n        console.error(&quot;错误：必须提供图片链接或base64图片编码。&quot;);\r\n        return;\r\n    }\r\n\r\n    // 构建请求URL\r\n    let requestUrl = &quot;https://api.mrcwoods.com/v1/ocrwzsb/?url=&quot; + encodeURIComponent(url);\r\n\r\n    // 添加可选参数到请求URL\r\n    // if (target) {\r\n    //     requestUrl += &quot;&amp;target=&quot; + encodeURIComponent(target);\r\n    // }\r\n    // if (type) {\r\n    //     requestUrl += &quot;&amp;type=&quot; + encodeURIComponent(type);\r\n    // }\r\n\r\n    // 发起GET请求\r\n    fetch(requestUrl)\r\n        .then(response =&gt; {\r\n            if (!response.ok) {\r\n                throw new Error(&quot;网络响应错误：状态码 &quot; + response.status);\r\n            }\r\n            // 根据返回内容格式解析响应\r\n            return type === &quot;text&quot; ? response.text() : response.json();\r\n        })\r\n        .then(data =&gt; {\r\n            console.log(&quot;OCR识别结果：&quot;, data);\r\n        })\r\n        .catch(error =&gt; {\r\n            console.error(&quot;请求失败：&quot;, error.message);\r\n        });\r\n}\r\n\r\n// 示例调用\r\n// callOCRAPI(&quot;https://example.com/image.png&quot;);",
        "NodeJS": "const axios = require(&apos;axios&apos;);\r\n\r\n/**\r\n * OCR文字识别API\r\n * @param {string} imageUrl - 需要识别的图片链接或base64图片编码，不能超过1MB大小(PDF、GIF、PNG、JPG、TIF、BMP)\r\n * @returns {Promise} - 返回识别结果的Promise对象\r\n */\r\nasync function ocrTextRecognition(imageUrl) {\r\n    // 必填参数\r\n    const params = {\r\n        url: imageUrl\r\n    };\r\n\r\n    // 可选参数，根据需要取消注释并设置\r\n    // params.target = &apos;chs&apos;; // 需要检测的语言，传入target=list返回支持的所有语言列表，不填写默认中文简体(chs)\r\n    // params.type = &apos;json&apos;; // 返回的内容格式，支持json和text，默认返回json\r\n\r\n    try {\r\n        const response = await axios.get(&apos;https://api.mrcwoods.com/v1/ocrwzsb/&apos;, { params });\r\n        return response.data;\r\n    } catch (error) {\r\n        if (error.response) {\r\n            // 请求已发出但服务器响应的状态码不在2xx范围内\r\n            console.error(`服务器响应错误: ${error.response.status} ${error.response.statusText}`);\r\n            console.error(`错误信息: ${error.response.data}`);\r\n        } else if (error.request) {\r\n            // 请求已发出但没有收到响应\r\n            console.error(&apos;请求超时或服务器未响应&apos;);\r\n            console.error(error.request);\r\n        } else {\r\n            // 在设置请求时发生了一些事情，触发了错误\r\n            console.error(&apos;请求配置错误&apos;);\r\n            console.error(error.message);\r\n        }\r\n        throw new Error(&apos;OCR文字识别API请求失败&apos;);\r\n    }\r\n}\r\n\r\n// 示例调用\r\n// ocrTextRecognition(&apos;https://example.com/image.jpg&apos;)\r\n//     .then(data =&gt; console.log(data))\r\n//     .catch(error =&gt; console.error(error));"
    }
}